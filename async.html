<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async Await</title>
</head>
<body>
    <ul id ="my-list">

    </ul>
    <script>
     // function hoistas synchronous  => por por kaj kora
     // function age async keyword use korle function async hoia jabe 
     // function akhon promise return korbe
     // promise jodi ase se access korte hobe (then) dia


        //async function hello(name){
        //    return 'Hello ' + name;
       // }
       //const greeting = hello('shifar');

      // console.log(greeting);

       //greeting.then(response => console.log(response));
       
       // await use for wait 

        async function loadData(){
           const response = await fetch('https:jsonplaceholder.typicode.com/users');
           const data = await response.json();
           //displayData(data);
           return data;
        }
        
        loadData().then(data =>{
            displayData(data);
        });
   
       // fetch se sever a call kore jodi oi sever a data ta pay se return ase thar pore (then) take call kore
       // tar age (then) call hoy 
       // jodi na hoy tahole catch error return korte paro .catch(error => console.log(error))
      
      // ata hoitase asynchronous 



      /* function loadData(){
           fetch('https://jsonplaceholder.typicode.com/users')
           .then(res => res.json())
           .then(data =>{
             displayData(data);
           })
       } 
       loadData();
       */
       function displayData(data){
           const parentNode = document.getElementById('my-list');
        
           for(let i = 0 ; i < data.length ; i++){
               const user = data[i];
               const listItem = document.createElement('li');
               listItem.innerText = user.name;

               parentNode.appendChild(listItem);
           }
       }

    </script>
</body>
</html>